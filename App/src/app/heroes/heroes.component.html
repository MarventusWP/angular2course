<div class="row">
  <div class="col-md-12">

    <loading *ngIf="!heroes"></loading>

    <div *ngIf="heroes" class="row">
      <div class="col-md-12 form-horizontal">
        <div class="row">
          <div class="col-md-4">
            <label class="control-label col-md-2" for="search">Search:</label>
            <div class="col-md-10">
              <input type="text" class="form-control" id="search" (input)="search($event.target.value)" />
            </div>
          </div>
          <div class="col-md-8">
            <button routerLink="../create" type="button" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-plus"></span></button>
            <button (click)="nextPage()" type="button" class="btn btn-secondary pull-right" [disabled]="start + offset >= heroService.heroesAmount"><span class="glyphicon glyphicon-chevron-right"></span></button>
            <button (click)="previousPage()" type="button" class="btn btn-secondary pull-right" [disabled]="!start"><span class="glyphicon glyphicon-chevron-left"></span></button>
            <h4 class="pull-right">Page {{(start / offset) + 1}}</h4>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="heroes" class="row">
      <div class="col-md-12">
        <table class="table table-hover">

          <thead>
            <tr>
              <th class="pointer" (click)="orderBy('id')">#ID <span *ngIf="orderby === 'id'" class="glyphicon glyphicon-arrow-{{orderdir === 'asc' ? 'up' : 'down'}}"></span></th>
              <th class="pointer" (click)="orderBy('name')">Name <span *ngIf="orderby === 'name'" class="glyphicon glyphicon-arrow-{{orderdir === 'asc' ? 'up' : 'down'}}"></span></th>
              <th class="pointer" (click)="orderBy('votes')">Votes <span *ngIf="orderby === 'votes'" class="glyphicon glyphicon-arrow-{{orderdir === 'asc' ? 'up' : 'down'}}"></span></th>
              <th>Actions</th></tr>
          </thead>

          <tbody>
            <!-- Enfoque 1 -->
            <tr *ngFor="let hero of heroes">

            <!-- Enfoque 2 -->
            <!-- <tr *ngFor="let hero of heroes | async"> -->

              <td>#{{hero.id}}</td>
              <td><a [routerLink]="['/detail', hero.id]">{{hero.name}}</a></td>
              <td>
                <span>{{hero.votes}}</span>
                <button type="button" class="btn btn-secondary" [disabled]="hero.alreadyVoted" (click)="vote(hero)"><span class="glyphicon glyphicon-thumbs-up"></span></button>
              </td>
              <td><button type="button" class="btn btn-danger" (click)="deleteHero(hero, $event)">Delete</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
